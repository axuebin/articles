<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>åˆå­¦ Babel å·¥ä½œåŸç† | ç©ç›¸æœºçš„ç¨‹åºå‘˜</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="ä»£ç å’Œç…§ç‰‡æœ¬è´¨éƒ½æ˜¯åˆ›é€ ï¼Œæ˜¯ä¸€ç§ä¿¡æ¯çš„ä¼ é€’ã€‚æˆ‘æ˜¯ç©ç›¸æœºçš„ç¨‹åºå‘˜ axuebinï¼Œç”¨é”®ç›˜å’Œç›¸æœºè®°å½•å’Œåˆ†äº«ã€‚">
    <link rel="preload" href="/articles/assets/css/0.styles.fe65aa1c.css" as="style"><link rel="preload" href="/articles/assets/js/app.310f691c.js" as="script"><link rel="preload" href="/articles/assets/js/2.8d419c10.js" as="script"><link rel="preload" href="/articles/assets/js/17.ceed3886.js" as="script"><link rel="preload" href="/articles/assets/js/3.97f21fa0.js" as="script"><link rel="preload" href="/articles/assets/js/4.3f1e58e8.js" as="script"><link rel="prefetch" href="/articles/assets/js/10.4265f4ce.js"><link rel="prefetch" href="/articles/assets/js/11.76f5f86d.js"><link rel="prefetch" href="/articles/assets/js/12.893e4bb1.js"><link rel="prefetch" href="/articles/assets/js/13.98208f64.js"><link rel="prefetch" href="/articles/assets/js/14.7a017fd2.js"><link rel="prefetch" href="/articles/assets/js/15.3426649e.js"><link rel="prefetch" href="/articles/assets/js/16.4e7dfcad.js"><link rel="prefetch" href="/articles/assets/js/18.288adc60.js"><link rel="prefetch" href="/articles/assets/js/19.60c3b1e2.js"><link rel="prefetch" href="/articles/assets/js/20.9438fdb5.js"><link rel="prefetch" href="/articles/assets/js/21.35e5c2c6.js"><link rel="prefetch" href="/articles/assets/js/22.8f5f945f.js"><link rel="prefetch" href="/articles/assets/js/5.5f71be51.js"><link rel="prefetch" href="/articles/assets/js/6.f64c5fbd.js"><link rel="prefetch" href="/articles/assets/js/7.47f2d43a.js"><link rel="prefetch" href="/articles/assets/js/8.22fa8963.js"><link rel="prefetch" href="/articles/assets/js/9.16d00e35.js">
    <link rel="stylesheet" href="/articles/assets/css/0.styles.fe65aa1c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="sidebar-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/articles/" class="router-link-active home-link"><img src="/articles/assets/img/avatar.jpg" alt="ç©ç›¸æœºçš„ç¨‹åºå‘˜" class="logo"> <span class="site-name">ç©ç›¸æœºçš„ç¨‹åºå‘˜</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/articles/" class="router-link-active">
          é¦–é¡µ
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/articles/fe-solution/" class="router-link-active">
          å‰ç«¯å·¥ç¨‹åŒ–
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/articles/fe-interview/">
          å‰ç«¯é¢è¯•
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          å…³æ³¨æˆ‘
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <!----></nav></div></div> <!----></header> <aside class="sidebar"><div><div class="ads"><div id="ads_2"><div class="ant-carousel"><div class="slick-slider slick-initialized"><div class="slick-list"><div class="slick-track"><div tabIndex="-1" data-index="0" class="slick-slide slick-active slick-current" style="outline:none;width:null;"><div><div tabIndex="-1" style="width:100%;display:inline-block;"><a target="_blank" rel="noopener noreferrer"><img src="/articles/assets/img/qrcode2.jpg" title="Ads details here"></a></div></div></div></div></div></div></div></div></div> <div role="separator" id="reset-margin" class="ant-divider ant-divider-horizontal ant-divider-dashed"></div></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>è„šæ‰‹æ¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/fe-solution/cli/desc.html" title="ç°ä»£ CLI å’Œ GUI æ–¹æ¡ˆæŒ‡å—" class="sidebar-link">ç°ä»£ CLI å’Œ GUI æ–¹æ¡ˆæŒ‡å—</a></li><li><a href="/articles/fe-solution/cli/cra.html" title="create-react-app æ ¸å¿ƒæ€è·¯åˆ†æ" class="sidebar-link">create-react-app æ ¸å¿ƒæ€è·¯åˆ†æ</a></li><li><a href="/articles/fe-solution/cli/vuecli.html" title="Vue CLI æ˜¯å¦‚ä½•å®ç°çš„ -- ç»ˆç«¯å‘½ä»¤è¡Œå·¥å…·ç¯‡" class="sidebar-link">Vue CLI æ˜¯å¦‚ä½•å®ç°çš„ -- ç»ˆç«¯å‘½ä»¤è¡Œå·¥å…·ç¯‡</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Babel</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/fe-solution/babel/first.html" aria-current="page" title="åˆå­¦ Babel å·¥ä½œåŸç†" class="active sidebar-link">åˆå­¦ Babel å·¥ä½œåŸç†</a></li><li><a href="/articles/fe-solution/babel/auto-require.html" title="å¦‚ä½•ç”¨ Babel ä¸ºä»£ç è‡ªåŠ¨å¼•å…¥ä¾èµ–" class="sidebar-link">å¦‚ä½•ç”¨ Babel ä¸ºä»£ç è‡ªåŠ¨å¼•å…¥ä¾èµ–</a></li><li><a href="/articles/fe-solution/babel/babel-plugin-import.html" title="ç®€å•å®ç° babel-plugin-import æ’ä»¶" class="sidebar-link">ç®€å•å®ç° babel-plugin-import æ’ä»¶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ„å»ºç›¸å…³</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/fe-solution/build/rax-analysis.html" title="å½“æˆ‘è°ˆ Rax æŒ‰ç«¯æ‹†åˆ†ä»£ç çš„æ—¶å€™æˆ‘è°ˆäº›ä»€ä¹ˆ" class="sidebar-link">å½“æˆ‘è°ˆ Rax æŒ‰ç«¯æ‹†åˆ†ä»£ç çš„æ—¶å€™æˆ‘è°ˆäº›ä»€ä¹ˆ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ä»£ç è§„èŒƒç›¸å…³</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/fe-solution/lint/eslint.html" title="ä¸­å°å‹å‰ç«¯å›¢é˜Ÿä»£ç è§„èŒƒå·¥ç¨‹åŒ–æœ€ä½³å®è·µ - ESLint" class="sidebar-link">ä¸­å°å‹å‰ç«¯å›¢é˜Ÿä»£ç è§„èŒƒå·¥ç¨‹åŒ–æœ€ä½³å®è·µ - ESLint</a></li></ul></section></li></ul></aside> <main class="page"> <div class="theme-antdocs-content content__default"><h1 id="åˆå­¦-babel-å·¥ä½œåŸç†"><a href="#åˆå­¦-babel-å·¥ä½œåŸç†" class="header-anchor">#</a> åˆå­¦ Babel å·¥ä½œåŸç†</h1> <h2 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h2> <p><img src="https://user-gold-cdn.xitu.io/2019/6/25/16b8db20407f1842?w=1958&amp;h=812&amp;f=png&amp;s=234383" alt="babel"></p> <p><code>Babel</code> å¯¹äºå‰ç«¯å¼€å‘è€…æ¥è¯´åº”è¯¥æ˜¯å¾ˆç†Ÿæ‚‰äº†ï¼Œæ—¥å¸¸å¼€å‘ä¸­åŸºæœ¬ä¸Šæ˜¯ç¦»ä¸å¼€å®ƒçš„ã€‚</p> <p>å·²ç» 9102 äº†ï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿç†Ÿç»ƒåœ°ä½¿ç”¨ <code>es2015+</code> çš„è¯­æ³•ã€‚ä½†æ˜¯å¯¹äºæµè§ˆå™¨æ¥è¯´ï¼Œå¯èƒ½å’Œå®ƒä»¬è¿˜ä¸å¤Ÿç†Ÿæ‚‰ï¼Œæˆ‘ä»¬å¾—è®©æµè§ˆå™¨ç†è§£å®ƒä»¬ï¼Œè¿™å°±éœ€è¦ <code>Babel</code>ã€‚</p> <p>å½“ç„¶ï¼Œä»…ä»…æ˜¯ <code>Babel</code> æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦ <code>polyfill</code> ç­‰ç­‰ç­‰ç­‰ï¼Œè¿™é‡Œå°±å…ˆä¸è¯´äº†ã€‚</p> <h2 id="what-ä»€ä¹ˆæ˜¯-babel"><a href="#what-ä»€ä¹ˆæ˜¯-babel" class="header-anchor">#</a> Whatï¼šä»€ä¹ˆæ˜¯ <code>Babel</code></h2> <blockquote><p>Babel is a toolchain that is mainly used to convert ECMAScript 2015+ code into a backwards compatible version of JavaScript in current and older browsers or environments.</p></blockquote> <p>ç®€å•åœ°è¯´ï¼Œ<code>Babel</code> èƒ½å¤Ÿè½¬è¯‘ <code>ECMAScript 2015+</code> çš„ä»£ç ï¼Œä½¿å®ƒåœ¨æ—§çš„æµè§ˆå™¨æˆ–è€…ç¯å¢ƒä¸­ä¹Ÿèƒ½å¤Ÿè¿è¡Œã€‚</p> <p>æˆ‘ä»¬å¯ä»¥åœ¨ <a href="https://babel.docschina.org/repl" target="_blank" rel="noopener noreferrer">https://babel.docschina.org/repl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å°è¯•ä¸€ä¸‹ã€‚</p> <p>ä¸€ä¸ªå° ğŸŒ°ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// es2015 çš„ const å’Œ arrow function</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>

<span class="token comment">// Babel è½¬è¯‘å</span>
<span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="https://user-gold-cdn.xitu.io/2019/6/25/16b8db204172ede9?w=1692&amp;h=502&amp;f=png&amp;s=9092" alt="babel-try"></p> <p><code>Babel</code> çš„åŠŸèƒ½å¾ˆçº¯ç²¹ã€‚æˆ‘ä»¬ä¼ é€’ä¸€æ®µæºä»£ç ç»™ <code>Babel</code>ï¼Œç„¶åå®ƒè¿”å›ä¸€ä¸²æ–°çš„ä»£ç ç»™æˆ‘ä»¬ã€‚å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œå®ƒä¸ä¼šè¿è¡Œæˆ‘ä»¬çš„ä»£ç ï¼Œä¹Ÿä¸ä¼šå»æ‰“åŒ…æˆ‘ä»¬çš„ä»£ç ã€‚</p> <p>å®ƒåªæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ã€‚</p> <h2 id="how-babel-æ˜¯å¦‚ä½•å·¥ä½œçš„"><a href="#how-babel-æ˜¯å¦‚ä½•å·¥ä½œçš„" class="header-anchor">#</a> How: Babel æ˜¯å¦‚ä½•å·¥ä½œçš„</h2> <p>é¦–å…ˆå¾—è¦å…ˆäº†è§£ä¸€ä¸ªæ¦‚å¿µï¼šæŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract Syntax Tree, ASTï¼‰ï¼Œ<code>Babel</code> æœ¬è´¨ä¸Šå°±æ˜¯åœ¨æ“ä½œ <code>AST</code> æ¥å®Œæˆä»£ç çš„è½¬è¯‘ã€‚</p> <h3 id="ast"><a href="#ast" class="header-anchor">#</a> AST</h3> <p><code>AST</code> æ˜¯ä»€ä¹ˆè¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼Œæƒ³è¦äº†è§£æ›´å¤šä¿¡æ¯å¯ä»¥æŸ¥çœ‹ <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree" target="_blank" rel="noopener noreferrer">Abstract syntax tree - Wikipedia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>è¿™é‡Œæ¯”è¾ƒå…³å¿ƒçš„ä¸€æ®µ <code>JavaScript</code> ä»£ç ä¼šç”Ÿæˆä¸€ä¸ªæ€æ ·çš„ <code>AST</code>ï¼Œ<code>Babel</code> åˆæ˜¯æ€ä¹ˆå»æ“ä½œ <code>AST</code> çš„ã€‚</p> <p>æˆ‘ä»¬è¿˜æ˜¯æ‹¿ä¸Šé¢çš„ ğŸŒ° æ¥è¯´æ˜ <code>const add = (a, b) =&gt; a + b;</code>ï¼Œè¿™æ ·ä¸€å¥ç®€å•çš„ä»£ç ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒç”Ÿæˆçš„ <code>AST</code> ä¼šæ˜¯æ€æ ·çš„ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Program&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VariableDeclaration&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å˜é‡å£°æ˜</span>
      <span class="token property">&quot;declarations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// å…·ä½“å£°æ˜</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VariableDeclarator&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å˜é‡å£°æ˜</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ ‡è¯†ç¬¦ï¼ˆæœ€åŸºç¡€çš„ï¼‰</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;add&quot;</span> <span class="token comment">// å‡½æ•°å</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;init&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ArrowFunctionExpression&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç®­å¤´å‡½æ•°</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;expression&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;generator&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token comment">// å‚æ•°</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å‡½æ•°ä½“</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BinaryExpression&quot;</span><span class="token punctuation">,</span> <span class="token comment">// äºŒé¡¹å¼</span>
              <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// äºŒé¡¹å¼å·¦è¾¹</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">,</span> <span class="token comment">// äºŒé¡¹å¼è¿ç®—ç¬¦</span>
              <span class="token property">&quot;right&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// äºŒé¡¹å¼å³è¾¹</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;kind&quot;</span><span class="token operator">:</span> <span class="token string">&quot;const&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€æ£µâ€œæ ‘â€æ¥æ›´ä¸ºç›´è§‚åœ°å±•ç¤ºè¿™å¥ä»£ç çš„ <code>AST</code>(ä»ç¬¬äºŒå±‚çš„ <code>declarations</code> å¼€å§‹)ï¼š</p> <p><img src="https://user-gold-cdn.xitu.io/2019/6/25/16b8db20408e6678?w=822&amp;h=507&amp;f=png&amp;s=15079" alt="ast-demo"></p> <p>ä¸€ä¸ª <code>AST</code> çš„æ ¹èŠ‚ç‚¹å§‹ç»ˆéƒ½æ˜¯ <code>Program</code>ï¼Œä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬ä» <code>declarations</code> å¼€å§‹å¾€ä¸‹è¯»ï¼š</p> <p>ä¸€ä¸ª<code>VariableDeclaration</code>(å˜é‡å£°æ˜)ï¼šå£°æ˜äº†ä¸€ä¸ª <code>name</code> ä¸º <code>add</code> çš„<code>ArrowFunctionExpression</code>(ç®­å¤´å‡½æ•°)ï¼š</p> <ul><li><code>params</code>(å‡½æ•°å…¥å‚)ï¼š<code>a</code> å’Œ <code>b</code></li> <li>å‡½æ•°ä½“ï¼šå‡½æ•°ä¸»ä½“æ˜¯ä¸€ä¸ª<code>BinaryExpression</code>(äºŒé¡¹å¼)ï¼Œä¸€ä¸ªæ ‡å‡†çš„äºŒé¡¹å¼åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š
<ul><li><code>left</code>(å·¦è¾¹)ï¼š<code>a</code></li> <li><code>operator</code>(è¿ç®—ç¬¦)ï¼šåŠ å· +</li> <li><code>right</code>(å³è¾¹)ï¼š<code>b</code></li></ul></li></ul> <p>è¿™æ ·å°±æ‹†è§£äº†è¿™ä¸€è¡Œä»£ç ã€‚</p> <p>å¦‚æœæƒ³è¦äº†è§£æ›´å¤šï¼Œå¯ä»¥é˜…è¯»å’Œå°è¯•ï¼š</p> <ul><li>åˆ†æ <code>AST</code>ï¼š<a href="https://ASTexplorer.net" target="_blank" rel="noopener noreferrer">https://ASTexplorer.net<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>AST</code> è§„èŒƒï¼š<a href="https://github.com/estree/estree" target="_blank" rel="noopener noreferrer">https://github.com/estree/estree<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="babel-å·¥ä½œè¿‡ç¨‹"><a href="#babel-å·¥ä½œè¿‡ç¨‹" class="header-anchor">#</a> Babel å·¥ä½œè¿‡ç¨‹</h3> <p>äº†è§£äº† <code>AST</code> æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå°±å¯ä»¥å¼€å§‹ç ”ç©¶ <code>Babel</code> çš„å·¥ä½œè¿‡ç¨‹äº†ã€‚</p> <p>ä¸Šé¢è¯´è¿‡ï¼Œ<code>Babel</code> çš„åŠŸèƒ½å¾ˆçº¯ç²¹ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ã€‚</p> <p>å¤§å¤šæ•°ç¼–è¯‘å™¨çš„å·¥ä½œè¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p> <ol><li><strong>Parse(è§£æ)</strong>ï¼šå°†æºä»£ç è½¬æ¢æˆæ›´åŠ æŠ½è±¡çš„è¡¨ç¤ºæ–¹æ³•ï¼ˆä¾‹å¦‚æŠ½è±¡è¯­æ³•æ ‘ï¼‰</li> <li><strong>Transform(è½¬æ¢)</strong>ï¼šå¯¹ï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰åšä¸€äº›ç‰¹æ®Šå¤„ç†ï¼Œè®©å®ƒç¬¦åˆç¼–è¯‘å™¨çš„æœŸæœ›</li> <li><strong>Generate(ä»£ç ç”Ÿæˆ)</strong>ï¼šå°†ç¬¬äºŒæ­¥ç»è¿‡è½¬æ¢è¿‡çš„ï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰ç”Ÿæˆæ–°çš„ä»£ç </li></ol> <p>å—¯... æ—¢ç„¶ <code>Babel</code> æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ï¼Œå½“ç„¶å®ƒçš„å·¥ä½œè¿‡ç¨‹ä¹Ÿæ˜¯è¿™æ ·çš„ã€‚æˆ‘ä»¬æ¥ä»”ç»†çœ‹çœ‹è¿™ä¸‰æ­¥åˆ†åˆ«åšäº†ä»€ä¹ˆäº‹ã€‚å½“ç„¶ï¼Œè¿˜æ˜¯æ‹¿ä¸Šé¢çš„ ğŸŒ° æ¥è¯´æ˜ <code>const add = (a, b) =&gt; a + b</code>ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦‚ä½•ç»è¿‡ <code>Babel</code> å˜æˆï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="parse-è§£æ"><a href="#parse-è§£æ" class="header-anchor">#</a> Parseï¼ˆè§£æï¼‰</h4> <p>ä¸€èˆ¬æ¥è¯´ï¼Œ<code>Parse</code> é˜¶æ®µå¯ä»¥ç»†åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š<strong>è¯æ³•åˆ†æ</strong>ï¼ˆLexical Analysis, LAï¼‰å’Œ<strong>è¯­æ³•åˆ†æ</strong>ï¼ˆSyntactic Analysis, SAï¼‰ã€‚</p> <h5 id="è¯æ³•åˆ†æ"><a href="#è¯æ³•åˆ†æ" class="header-anchor">#</a> è¯æ³•åˆ†æ</h5> <p>è¯æ³•åˆ†æé˜¶æ®µå¯ä»¥çœ‹æˆæ˜¯å¯¹ä»£ç è¿›è¡Œâ€œåˆ†è¯â€ï¼Œå®ƒæ¥æ”¶ä¸€æ®µæºä»£ç ï¼Œç„¶åæ‰§è¡Œä¸€æ®µ <code>tokenize</code> å‡½æ•°ï¼ŒæŠŠä»£ç åˆ†å‰²æˆè¢«ç§°ä¸º<code>Tokens</code> çš„ä¸œè¥¿ã€‚<code>Tokens</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç”±ä¸€äº›ä»£ç çš„ç¢ç‰‡ç»„æˆï¼Œæ¯”å¦‚æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ã€è¿ç®—ç¬¦å·ç­‰ç­‰ç­‰ç­‰ï¼Œä¾‹å¦‚è¿™æ ·ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Keyword&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;const&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;add&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;,&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;)&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=&gt;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>é€šè¿‡ <a href="http://esprima.org/demo/parse.html#" target="_blank" rel="noopener noreferrer">http://esprima.org/demo/parse.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç”Ÿæˆçš„ã€‚</p> <p>çœ‹ä¸Šå»å¥½åƒå¾ˆå®¹æ˜“å•Šï¼Œå°±æ˜¯æŠŠä¸€å¥å®Œæ•´çš„ä»£ç æ‹†æˆä¸€ä¸ªä¸ªç‹¬ç«‹ä¸ªä½“å°±å¥½äº†ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¾—è®©æœºå™¨çŸ¥é“æ€ä¹ˆæ‹†~</p> <p>æˆ‘ä»¬æ¥è¯•ç€å®ç°ä¸€ä¸‹ <code>tokenize</code> å‡½æ•°ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * è¯æ³•åˆ†æ tokenize
 * @param {string} code JavaScript ä»£ç 
 * @return {Array} token
 */</span>
<span class="token keyword">function</span> <span class="token function">tokenize</span><span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>code <span class="token operator">||</span> code<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> current <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// è®°å½•ä½ç½®</span>
  <span class="token keyword">var</span> tokens <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// å®šä¹‰ä¸€ä¸ªç©ºçš„ token æ•°ç»„</span>

  <span class="token keyword">var</span> <span class="token constant">LETTERS</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-zA-Z\$\_]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token constant">KEYWORDS</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">const</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span> <span class="token comment">//  æ¨¡æ‹Ÿä¸€ä¸‹åˆ¤æ–­æ˜¯ä¸æ˜¯å…³é”®å­—</span>
  <span class="token keyword">var</span> <span class="token constant">WHITESPACE</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token constant">PARENS</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\(|\)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token constant">NUMBERS</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[0-9]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token constant">OPERATORS</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[+*/-]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token constant">PUNCTUATORS</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[~!@#$%^&amp;*()/\|,.&lt;&gt;?&quot;';:_+-=\[\]{}]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

  <span class="token comment">// ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹éå†</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>current <span class="token operator">&lt;</span> code<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> char <span class="token operator">=</span> code<span class="token punctuation">[</span>current<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// åˆ¤æ–­ç©ºæ ¼</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">WHITESPACE</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      current<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// åˆ¤æ–­è¿ç»­å­—ç¬¦</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">LETTERS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> type <span class="token operator">=</span> <span class="token string">'Identifier'</span><span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>char <span class="token operator">&amp;&amp;</span> <span class="token constant">LETTERS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">+=</span> char<span class="token punctuation">;</span>
        char <span class="token operator">=</span> code<span class="token punctuation">[</span><span class="token operator">++</span>current<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// åˆ¤æ–­æ˜¯å¦æ˜¯å…³é”®å­—</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">KEYWORDS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        type <span class="token operator">=</span> <span class="token string">'Keyword'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> type<span class="token punctuation">,</span>
        value<span class="token operator">:</span> value<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// åˆ¤æ–­å°æ‹¬å·</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">PARENS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'Paren'</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> char<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      current<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// åˆ¤æ–­è¿ç»­æ•°å­—</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NUMBERS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>char <span class="token operator">&amp;&amp;</span> <span class="token constant">NUMBERS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">+=</span> char<span class="token punctuation">;</span>
        char <span class="token operator">=</span> code<span class="token punctuation">[</span><span class="token operator">++</span>current<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'Number'</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> value<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// åˆ¤æ–­è¿ç®—ç¬¦</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">OPERATORS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'Operator'</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> char<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      current<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// åˆ¤æ–­ç®­å¤´å‡½æ•°</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">PUNCTUATORS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> value <span class="token operator">=</span> char<span class="token punctuation">;</span>
      <span class="token keyword">var</span> type <span class="token operator">=</span> <span class="token string">'Punctuator'</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> temp <span class="token operator">=</span> code<span class="token punctuation">[</span><span class="token operator">++</span>current<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">===</span> <span class="token string">'&gt;'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        type <span class="token operator">=</span> <span class="token string">'ArrowFunction'</span><span class="token punctuation">;</span>
        value <span class="token operator">+=</span> temp<span class="token punctuation">;</span>
        current<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> type<span class="token punctuation">,</span>
        value<span class="token operator">:</span> value<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'Identifier'</span><span class="token punctuation">,</span>
      value<span class="token operator">:</span> char<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    current<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> tokens<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢è¿™ä¸ª <code>tokenize</code> å‡½æ•°åªæ˜¯è‡ªå·±å®ç°ä»¥ä¸‹ï¼Œä¸å®é™…ä¸Š <code>Babel</code> çš„å®ç°æ–¹å¼è¿˜æ˜¯å·®ä¸å°‘çš„ï¼Œå¦‚æœæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹<a href="https://github.com/babel/babel/blob/master/packages/babel-parser/src/tokenizer" target="_blank" rel="noopener noreferrer">https://github.com/babel/babel/blob/master/packages/babel-parser/src/tokenizer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> tokens <span class="token operator">=</span> <span class="token function">tokenize</span><span class="token punctuation">(</span><span class="token string">'const add = (a, b) =&gt; a + b'</span><span class="token punctuation">)</span>ï¼›
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tokens<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Keyword&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;const&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;add&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Paren&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;,&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Paren&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;)&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ArrowFunction&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=&gt;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Operator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>çœ‹ä¸Šå»å’Œä¸Šé¢çš„æœ‰ç‚¹ä¸å¤ªä¸€æ ·ï¼Œæ²¡å…³ç³»ï¼Œæˆ‘åªæ˜¯ç»†åŒ–äº†ä¸€ä¸‹ç±»åˆ«ï¼Œæ„æ€å°±æ˜¯è¿™ä¹ˆä¸ªæ„æ€ã€‚</p> <h5 id="è¯­æ³•åˆ†æ"><a href="#è¯­æ³•åˆ†æ" class="header-anchor">#</a> è¯­æ³•åˆ†æ</h5> <p><strong>è¯æ³•åˆ†æ</strong>ä¹‹åï¼Œä»£ç å°±å·²ç»å˜æˆäº†ä¸€ä¸ª <code>Tokens</code> æ•°ç»„äº†ï¼Œç°åœ¨éœ€è¦é€šè¿‡<strong>è¯­æ³•åˆ†æ</strong>æŠŠ <code>Tokens</code> è½¬åŒ–ä¸ºä¸Šé¢æåˆ°è¿‡çš„ <code>AST</code>ã€‚</p> <p>è¯´æ¥æƒ­æ„§ï¼Œè¿™é‡Œæ²¡æœ‰æƒ³åˆ°å¾ˆå¥½çš„æ€è·¯æ¥å®ç°ä¸€ä¸ª <code>parse</code> å‡½æ•°ã€‚å¦‚æœå“ªå¤©æƒ³åˆ°äº†ï¼Œå†è¡¥å……ä¸Šæ¥ã€‚</p> <p>ç°åœ¨æˆ‘ä»¬å…ˆå‡è®¾å·²ç»å®ç°äº†è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠä¸Šé¢çš„ <code>Tokens</code> è½¬åŒ–æˆäº†ä¸€ä¸ª <code>AST</code>ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p> <p>å¦‚æœæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹å®˜æ–¹çš„åšæ³•<a href="https://github.com/babel/babel/tree/master/packages/babel-parser/src/parser" target="_blank" rel="noopener noreferrer">https://github.com/babel/babel/tree/master/packages/babel-parser/src/parser<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="transform-è½¬æ¢"><a href="#transform-è½¬æ¢" class="header-anchor">#</a> Transform(è½¬æ¢)</h4> <p>è¿™ä¸€æ­¥åšçš„äº‹æƒ…ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯æ“ä½œ <code>AST</code>ã€‚å¦‚æœå¿˜è®°äº† <code>AST</code> æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥å›åˆ°ä¸Šé¢å†çœ‹çœ‹ã€‚</p> <p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>AST</code> ä¸­æœ‰å¾ˆå¤šç›¸ä¼¼çš„å…ƒç´ ï¼Œå®ƒä»¬éƒ½æœ‰ä¸€ä¸ª <code>type</code> å±æ€§ï¼Œè¿™æ ·çš„å…ƒç´ è¢«ç§°ä½œ<strong>èŠ‚ç‚¹</strong>ã€‚ä¸€ä¸ªèŠ‚ç‚¹é€šå¸¸å«æœ‰è‹¥å¹²å±æ€§ï¼Œå¯ä»¥ç”¨äºæè¿° <code>AST</code> çš„éƒ¨åˆ†ä¿¡æ¯ã€‚</p> <p>æ¯”å¦‚è¿™æ˜¯ä¸€ä¸ªæœ€å¸¸è§çš„ <code>Identifier</code> èŠ‚ç‚¹ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;add&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ã€‚</p> <p>æ‰€ä»¥ï¼Œæ“ä½œ <code>AST</code> ä¹Ÿå°±æ˜¯æ“ä½œå…¶ä¸­çš„èŠ‚ç‚¹ï¼Œå¯ä»¥å¢åˆ æ”¹è¿™äº›èŠ‚ç‚¹ï¼Œä»è€Œè½¬æ¢æˆå®é™…éœ€è¦çš„ <code>AST</code>ã€‚</p> <p>æ›´å¤šçš„èŠ‚ç‚¹è§„èŒƒå¯ä»¥åœ¨<a href="https://github.com/estree/estree" target="_blank" rel="noopener noreferrer">https://github.com/estree/estree<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸­æŸ¥çœ‹ã€‚</p> <p><code>Babel</code> å¯¹äº <code>AST</code> çš„éå†æ˜¯æ·±åº¦ä¼˜å…ˆéå†ï¼Œå¯¹äº <code>AST</code> ä¸Šçš„æ¯ä¸€ä¸ªåˆ†æ”¯ <code>Babel</code> éƒ½ä¼šå…ˆå‘ä¸‹éå†èµ°åˆ°å°½å¤´ï¼Œç„¶åå†å‘ä¸Šéå†é€€å‡ºåˆšéå†è¿‡çš„èŠ‚ç‚¹ï¼Œç„¶åå¯»æ‰¾ä¸‹ä¸€ä¸ªåˆ†æ”¯ã€‚</p> <p>è¿˜æ˜¯ä¸Šé¢çš„ ğŸŒ°ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Program&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VariableDeclaration&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å˜é‡å£°æ˜</span>
      <span class="token property">&quot;declarations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// å…·ä½“å£°æ˜</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VariableDeclarator&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å˜é‡å£°æ˜</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ ‡è¯†ç¬¦ï¼ˆæœ€åŸºç¡€çš„ï¼‰</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;add&quot;</span> <span class="token comment">// å‡½æ•°å</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;init&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ArrowFunctionExpression&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç®­å¤´å‡½æ•°</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;expression&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;generator&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token comment">// å‚æ•°</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å‡½æ•°ä½“</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BinaryExpression&quot;</span><span class="token punctuation">,</span> <span class="token comment">// äºŒé¡¹å¼</span>
              <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// äºŒé¡¹å¼å·¦è¾¹</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">,</span> <span class="token comment">// äºŒé¡¹å¼è¿ç®—ç¬¦</span>
              <span class="token property">&quot;right&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// äºŒé¡¹å¼å³è¾¹</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;kind&quot;</span><span class="token operator">:</span> <span class="token string">&quot;const&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ ¹èŠ‚ç‚¹æˆ‘ä»¬å°±ä¸è¯´äº†ï¼Œä» <code>declarations</code> é‡Œå¼€å§‹éå†ï¼š</p> <ol><li>å£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”çŸ¥é“äº†å®ƒçš„å†…éƒ¨å±æ€§ï¼ˆ<code>id</code>ã€<code>init</code>ï¼‰ï¼Œç„¶åæˆ‘ä»¬å†ä»¥æ­¤è®¿é—®æ¯ä¸€ä¸ªå±æ€§ä»¥åŠå®ƒä»¬çš„å­èŠ‚ç‚¹ã€‚</li> <li><code>id</code> æ˜¯ä¸€ä¸ª <code>Idenrifier</code>ï¼Œæœ‰ä¸€ä¸ª <code>name</code> å±æ€§è¡¨ç¤ºå˜é‡åã€‚</li> <li>ä¹‹åæ˜¯ <code>init</code>ï¼Œ<code>init</code> ä¹Ÿæœ‰å¥½å‡ ä¸ªå†…éƒ¨å±æ€§ï¼š</li></ol> <ul><li><code>type</code> æ˜¯<code>ArrowFunctionExpression</code>ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°è¡¨è¾¾å¼</li> <li><code>params</code> æ˜¯è¿™ä¸ªç®­å¤´å‡½æ•°çš„å…¥å‚ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ä¸€ä¸ª <code>Identifier</code> ç±»å‹çš„èŠ‚ç‚¹ï¼›</li> <li><code>body</code> å±æ€§æ˜¯è¿™ä¸ªç®­å¤´å‡½æ•°çš„ä¸»ä½“ï¼Œè¿™æ˜¯ä¸€ä¸ª <code>BinaryExpression</code> äºŒé¡¹å¼ï¼š<code>left</code>ã€<code>operator</code>ã€<code>right</code>ï¼Œåˆ†åˆ«è¡¨ç¤ºäºŒé¡¹å¼çš„å·¦è¾¹å˜é‡ã€è¿ç®—ç¬¦ä»¥åŠå³è¾¹å˜é‡ã€‚</li></ul> <p>è¿™æ˜¯éå† <code>AST</code> çš„ç™½è¯å½¢å¼ï¼Œå†çœ‹çœ‹ <code>Babel</code> æ˜¯æ€ä¹ˆåšçš„ï¼š</p> <p><code>Babel</code> ä¼šç»´æŠ¤ä¸€ä¸ªç§°ä½œ <code>Visitor</code> çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å®šä¹‰äº†ç”¨äº <code>AST</code> ä¸­è·å–å…·ä½“èŠ‚ç‚¹çš„æ–¹æ³•ã€‚</p> <h4 id="visitor"><a href="#visitor" class="header-anchor">#</a> Visitor</h4> <p>ä¸€ä¸ª <code>Visitor</code> ä¸€èˆ¬æ¥è¯´æ˜¯è¿™æ ·çš„ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> visitor <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">ArrowFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯ç®­å¤´å‡½æ•°'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">IfStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯ä¸€ä¸ªifè¯­å¥'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">CallExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å½“æˆ‘ä»¬éå† <code>AST</code> çš„æ—¶å€™ï¼Œå¦‚æœåŒ¹é…ä¸Šä¸€ä¸ª <code>type</code>ï¼Œå°±ä¼šè°ƒç”¨ <code>visitor</code> é‡Œçš„æ–¹æ³•ã€‚</p> <p>è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ <code>Visitor</code>ã€‚</p> <p>ä¸Šé¢è¯´è¿‡ï¼Œ<code>Babel</code> éå† <code>AST</code> å…¶å®ä¼šç»è¿‡ä¸¤æ¬¡èŠ‚ç‚¹ï¼šéå†çš„æ—¶å€™å’Œé€€å‡ºçš„æ—¶å€™ï¼Œæ‰€ä»¥å®é™…ä¸Š <code>Babel</code> ä¸­çš„ <code>Visitor</code> åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> visitor <span class="token operator">=</span> <span class="token punctuation">{</span>
  Identifier<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Identifier enter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Identifier exit'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>æ¯”å¦‚æˆ‘ä»¬æ‹¿è¿™ä¸ª <code>visitor</code> æ¥éå†è¿™æ ·ä¸€ä¸ª <code>AST</code>ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// å‚æ•°</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿‡ç¨‹å¯èƒ½æ˜¯è¿™æ ·çš„...</p> <ul><li>è¿›å…¥ <code>Identifier(params[0])</code></li> <li>èµ°åˆ°å°½å¤´</li> <li>é€€å‡º <code>Identifier(params[0])</code></li> <li>è¿›å…¥ <code>Identifier(params[1])</code></li> <li>èµ°åˆ°å°½å¤´</li> <li>é€€å‡º <code>Identifier(params[1])</code></li></ul> <p>å½“ç„¶ï¼Œ<code>Babel</code> ä¸­çš„ <code>Visitor</code> æ¨¡å¼è¿œè¿œæ¯”è¿™å¤æ‚...</p> <p>å›åˆ°ä¸Šé¢çš„ ğŸŒ°ï¼Œç®­å¤´å‡½æ•°æ˜¯ <code>ES5</code> ä¸æ”¯æŒçš„è¯­æ³•ï¼Œæ‰€ä»¥ <code>Babel</code> å¾—æŠŠå®ƒè½¬æ¢æˆæ™®é€šå‡½æ•°ï¼Œä¸€å±‚å±‚éå†ä¸‹å»ï¼Œæ‰¾åˆ°äº† <code>ArrowFunctionExpression</code> èŠ‚ç‚¹ï¼Œè¿™æ—¶å€™å°±éœ€è¦æŠŠå®ƒæ›¿æ¢æˆ <code>FunctionDeclaration</code> èŠ‚ç‚¹ã€‚æ‰€ä»¥ï¼Œç®­å¤´å‡½æ•°å¯èƒ½æ˜¯è¿™æ ·å¤„ç†çš„ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> t <span class="token keyword">from</span> <span class="token string">'@babel/types'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> visitor <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">ArrowFunction</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">FunctionDeclaration</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> params<span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å¯¹ç»†èŠ‚æ„Ÿå…´è¶£çš„å¯ä»¥ç¿»ç¿»æºç <a href="https://github.com/babel/babel/tree/master/packages/babel-traverse" target="_blank" rel="noopener noreferrer">https://github.com/babel/babel/tree/master/packages/babel-traverse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h4 id="generate-ä»£ç ç”Ÿæˆ"><a href="#generate-ä»£ç ç”Ÿæˆ" class="header-anchor">#</a> Generate(ä»£ç ç”Ÿæˆ)</h4> <p>ç»è¿‡ä¸Šé¢ä¸¤ä¸ªé˜¶æ®µï¼Œéœ€è¦è½¬è¯‘çš„ä»£ç å·²ç»ç»è¿‡è½¬æ¢ï¼Œç”Ÿæˆæ–°çš„ <code>AST</code> äº†ï¼Œæœ€åä¸€ä¸ªé˜¶æ®µç†æ‰€åº”å½“å°±æ˜¯æ ¹æ®è¿™ä¸ª <code>AST</code> æ¥è¾“å‡ºä»£ç ã€‚</p> <p><code>Babel</code> æ˜¯é€šè¿‡ <a href="https://github.com/babel/babel/tree/master/packages/babel-generator" target="_blank" rel="noopener noreferrer">https://github.com/babel/babel/tree/master/packages/babel-generator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ¥å®Œæˆçš„ã€‚å½“ç„¶ï¼Œä¹Ÿæ˜¯æ·±åº¦ä¼˜å…ˆéå†ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Generator</span> <span class="token keyword">extends</span> <span class="token class-name">Printer</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">ast<span class="token punctuation">,</span> opts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> format <span class="token operator">=</span> <span class="token function">normalizeOptions</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> opts<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> map <span class="token operator">=</span> opts<span class="token punctuation">.</span>sourceMaps <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">SourceMap</span><span class="token punctuation">(</span>opts<span class="token punctuation">,</span> code<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>format<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>ast <span class="token operator">=</span> ast<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  ast<span class="token operator">:</span> Object<span class="token punctuation">;</span>
  <span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ast<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç»è¿‡è¿™ä¸‰ä¸ªé˜¶æ®µï¼Œä»£ç å°±è¢« <code>Babel</code> è½¬è¯‘æˆåŠŸäº†ã€‚</p> <p>ä»»é‡è€Œé“è¿œ... æƒ³çœŸæ­£æŒæ¡ <code>Babel</code> è¿˜æœ‰å¾ˆé•¿çš„è·¯...</p> <h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="header-anchor">#</a> å‚è€ƒé“¾æ¥</h2> <ul><li><a href="https://babel.docschina.org/" target="_blank" rel="noopener noreferrer">Babel<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/27289600" target="_blank" rel="noopener noreferrer">Babel æ˜¯å¦‚ä½•è¯»æ‡‚ JS ä»£ç çš„<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/jamiebuilds/the-super-tiny-compiler" target="_blank" rel="noopener noreferrer">the super tiny compiler<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md#toc-stages-of-babel" target="_blank" rel="noopener noreferrer">Babel æ’ä»¶æ‰‹å†Œ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://taobaofed.org/blog/2016/09/30/babel-plugins/" target="_blank" rel="noopener noreferrer">ç†è§£ Babel æ’ä»¶<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="article-footer" data-v-4713b8bc><div role="separator" class="ant-divider ant-divider-horizontal" data-v-4713b8bc></div> <p data-v-4713b8bc>
    å…³æ³¨å…¬ä¼—å·
    <span class="bold" data-v-4713b8bc>ç©ç›¸æœºçš„ç¨‹åºå‘˜</span></p> <p data-v-4713b8bc>åŸåˆ›æ–‡ç« æŒç»­æ›´æ–°ä¸­</p> <img src="/articles/assets/img/qrcode.jpg" data-v-4713b8bc> <p data-v-4713b8bc>æˆ‘æ˜¯ axuebinï¼Œç”¨é”®ç›˜å’Œç›¸æœºè®°å½•ç”Ÿæ´»</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/articles/fe-solution/cli/vuecli.html" class="prev"><i aria-label="icon: left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i>
        Vue CLI æ˜¯å¦‚ä½•å®ç°çš„ -- ç»ˆç«¯å‘½ä»¤è¡Œå·¥å…·ç¯‡
      </a></span> <span class="next"><a href="/articles/fe-solution/babel/auto-require.html">
        å¦‚ä½•ç”¨ Babel ä¸ºä»£ç è‡ªåŠ¨å¼•å…¥ä¾èµ–
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> </main> <!----></div><div class="global-ui"><div class="right-group" data-v-63a47ae2><div class="item" data-v-63a47ae2><div class="title" data-v-63a47ae2>å…³æ³¨å¾®ä¿¡å…¬ä¼—å·</div> <div class="desc" data-v-63a47ae2>é«˜è´¨é‡åŸåˆ›æ–‡ç« </div> <img src="/articles/assets/img/qrcode.jpg" alt="ç©ç›¸æœºçš„ç¨‹åºå‘˜" title="ç©ç›¸æœºçš„ç¨‹åºå‘˜" data-v-63a47ae2></div> <div class="item" data-v-63a47ae2><div class="title" data-v-63a47ae2>åŠ å…¥å‰ç«¯åˆ’æ°´ç¾¤</div> <div class="desc" data-v-63a47ae2>
      æ‰«ç å¤‡æ³¨
      <span class="red" data-v-63a47ae2>åŠ ç¾¤</span></div> <img src="/articles/assets/img/wechat.jpg" alt="axuebin" title="axuebin" data-v-63a47ae2></div></div></div></div>
    <script src="/articles/assets/js/app.310f691c.js" defer></script><script src="/articles/assets/js/2.8d419c10.js" defer></script><script src="/articles/assets/js/17.ceed3886.js" defer></script><script src="/articles/assets/js/3.97f21fa0.js" defer></script><script src="/articles/assets/js/4.3f1e58e8.js" defer></script>
  </body>
</html>